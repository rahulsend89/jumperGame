!function(){var t=document.getElementById("canvas");t.width=window.innerWidth,t.height=window.innerHeight;var e=!1,i=0,n=200,o=100,h=.9,c=!1,r=0,d=0,a=0,l=!1,s=!1,u=2,f=t.getContext("2d"),w=[],g=[],y={x:20,y:20,scale:2,anchorpoint:1,width:10,height:10,speed:.5,color:"#c00",intersects:function(t){return!(t.x>D(this).x+D(this).width||t.x+t.width<D(this).x||t.y>D(this).y+D(this).height||t.y+t.height<D(this).y)},groupSprite:[{x:2,y:2,width:2,height:2,color:"#fcf"},{x:6,y:2,width:2,height:2,color:"#fcf"},{x:3,y:6,width:4,height:2,color:"#fcf"}]},p={x:0,y:0,width:t.width,height:t.height,color:"#ccc"},v={x:0,y:t.height-n,width:t.width,height:n,color:"#222"},x={},m=Date.now(),E=function(){l&&(l=!1,u=-6,c=!0),c&&(h=1.1,-8>u?(h=0,u=-8,c=!1):u*=h)},S=function(){e=!0,g=[],w=[],clearInterval(d),clearTimeout(a)},k=function(e){38 in x&&E(),u+=y.speed,u>o/5&&(u=o/5),D(y).y+u>t.height-D(y).height-n?(l=!0,y.y=t.height-D(y).height+(y.y-D(y).y)-n):l||(y.y+=u);for(var h=g.length-1;h>=0;h--){var c=g[h];c.x-=c.speed*e,y.intersects(c)&&S(),c.x<0&&(i++,H(c,w),H(c,g))}},L=function(){var i=t.width,h=Math.random()*o+10,c={x:i,y:t.height-n-h,width:10,height:h,speed:200,color:"#c00"};g.push(c),w.push(c),e||(a=setTimeout(L,1e3*Math.random()+700))},T=function(t){f.fillStyle=t.color,f.fillRect(D(t).x,D(t).y,D(t).width,D(t).height)},C=function(t,e){f.fillStyle=e.color;var i=1;void 0!==e.scale?i=e.scale:e.scale=1,void 0!==t.scale?i=t.scale*e.scale:t.scale=1,f.fillRect(D(t).x+e.x*i,D(t).y+e.y*i,e.width*i,e.height*i)},D=function(t){var e=0,i=1;void 0!==t.scale&&(i=t.scale),void 0!==t.anchorpoint&&(e=t.anchorpoint);var n=t.width*i,o=t.height*i;return{x:t.x+n*e,y:t.y-o*e,width:n,height:o}},I=function(){if(e)f.font="10px Arial",f.fillText("GameOver Press spacebar or",100,50),f.fillText("Mouse-click to restart",100,70);else{var t=w.length,n=0;for(n=0;t>n;n++)if(T(w[n]),void 0!==w[n].groupSprite)for(var o=w[n].groupSprite.length-1;o>=0;o--)C(w[n],w[n].groupSprite[o]);f.font="10px Arial",f.fillText("Score :"+i+" : Hi : "+r,10,50)}},M=function(){k((Date.now()-m)/1e3),I(),m=Date.now(),s&&E()},A=function(){w.push(p),w.push(v),w.push(y),L(),i>r&&(r=i),i=0,u=2,d=setInterval(M,10)},H=function(t,e){return e.splice(e.indexOf(t),1)},O=function(){e?(e=!1,A()):s=!0},R=function(){h=1,c=!1,s=!1};window.addEventListener("touchend",function(){R()}),window.addEventListener("touchstart",function(){O()}),window.addEventListener("keydown",function(t){e&&32===t.keyCode?(e=!1,A()):x[t.keyCode]=!0}),window.addEventListener("mousedown",function(){O()}),window.addEventListener("mouseup",function(){R()}),window.addEventListener("keyup",function(t){h=1,c=!1,delete x[t.keyCode]}),A()}();
//# sourceMappingURL=./myGame-min.js.map
!function(){var e=document.getElementById("canvas");e.width=window.innerWidth,e.height=window.innerHeight;var t=!1,i=0,n=200,o=100,h=.9,r=!1,c=0,d=0,a=0,l=!1,s=!1,y=2,u=e.getContext("2d"),x=[],f=[],w={x:20,y:20,scale:{x:2,y:3},anchorpoint:{x:0,y:0},width:10,height:10,speed:.5,color:"#c00",intersects:function(e){return!(e.x>D(this).x+D(this).width||e.x+e.width<D(this).x||e.y>D(this).y+D(this).height||e.y+e.height<D(this).y)},groupSprite:[{x:2,y:2,width:2,height:2,color:"#fcf"},{x:6,y:2,width:2,height:2,color:"#fcf"},{x:3,y:6,width:4,height:2,color:"#fcf"}]},g={x:0,y:0,width:e.width,height:e.height,color:"#ccc"},p={x:0,y:e.height-n,width:e.width,height:n,color:"#222"},v={},m=Date.now(),E=function(){l&&(l=!1,y=-6,r=!0),r&&(h=1.1,-8>y?(h=0,y=-8,r=!1):y*=h)},S=function(){t=!0,f=[],x=[],clearInterval(d),clearTimeout(a)},k=function(t){38 in v&&E(),y+=w.speed,y>o/5&&(y=o/5),D(w).y+y>e.height-D(w).height-n?(l=!0,w.y=e.height-D(w).height+(w.y-D(w).y)-n):l||(w.y+=y);for(var h=f.length-1;h>=0;h--){var r=f[h];r.x-=r.speed*t,w.intersects(r)&&S(),r.x<0&&(i++,H(r,x),H(r,f))}},L=function(){var i=e.width,h=Math.random()*o+10,r={x:i,y:e.height-n-h,width:10,height:h,speed:200,color:"#c00"};f.push(r),x.push(r),t||(a=setTimeout(L,1e3*Math.random()+700))},T=function(e){u.fillStyle=e.color,u.fillRect(D(e).x,D(e).y,D(e).width,D(e).height)},C=function(e,t){u.fillStyle=t.color;var i={x:1,y:1};void 0!==t.scale?i=t.scale:t.scale={x:1,y:1},void 0!==e.scale?i={x:e.scale.x*t.scale.x,y:e.scale.y*t.scale.y}:e.scale={x:1,y:1},u.fillRect(e.x+t.x*i.x,e.y+t.y*i.y,t.width*i.x,t.height*i.y)},D=function(e){var t={x:0,y:0},i={x:1,y:1};void 0!==e.scale&&(i=e.scale),void 0!==e.anchorpoint&&(t=e.anchorpoint);var n=e.width*i.x,o=e.height*i.y;return{x:e.x+n*t.x,y:e.y-o*t.y,width:n,height:o}},I=function(){if(t)u.font="10px Arial",u.fillText("GameOver Press spacebar or",100,50),u.fillText("Mouse-click to restart",100,70);else{var e=x.length,n=0;for(n=0;e>n;n++)if(T(x[n]),void 0!==x[n].groupSprite)for(var o=x[n].groupSprite.length-1;o>=0;o--)C(x[n],x[n].groupSprite[o]);u.font="10px Arial",u.fillText("Score :"+i+" : Hi : "+c,10,50)}},M=function(){k((Date.now()-m)/1e3),I(),m=Date.now(),s&&E()},A=function(){x.push(g),x.push(p),x.push(w),L(),i>c&&(c=i),i=0,y=2,d=setInterval(M,10)},H=function(e,t){return t.splice(t.indexOf(e),1)},O=function(){t?(t=!1,A()):s=!0},R=function(){h=1,r=!1,s=!1};window.addEventListener("touchend",R),window.addEventListener("touchstart",O),window.addEventListener("mousedown",O),window.addEventListener("mouseup",R),window.addEventListener("keydown",function(e){t&&32===e.keyCode?(t=!1,A()):v[e.keyCode]=!0}),window.addEventListener("keyup",function(e){h=1,r=!1,delete v[e.keyCode]}),A()}();
//# sourceMappingURL=./myGame-min.map
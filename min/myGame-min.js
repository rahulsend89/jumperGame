!function(){var e=document.getElementById("canvas");e.width=window.innerWidth,e.height=window.innerHeight;var t=!1,i=0,n=200,o=100,h=.9,c=!1,r=0,d=0,a=0,l=!1,s=!1,y=2,x=e.getContext("2d"),u=[],f=[],w={x:20,y:20,scale:{x:2,y:3},anchorpoint:{x:0,y:0},width:10,height:10,speed:.5,color:"#c00",intersects:function(e){return!(L(e).x>L(this).x+L(this).width||L(e).x+L(e).width<L(this).x||L(e).y>L(this).y+L(this).height||L(e).y+L(e).height<L(this).y)},groupSprite:[{x:2,y:2,width:2,height:2,color:"#fcf"},{x:6,y:2,width:2,height:2,color:"#fcf"},{x:3,y:6,width:4,height:2,color:"#fcf"}]},g={x:0,y:0,width:e.width,height:e.height,color:"#ccc"},p={x:0,y:e.height-n,width:e.width,height:n,color:"#222"},v={},m=Date.now(),E=function(){l&&(l=!1,y=-6,c=!0),c&&(h=1.1,-8>y?(h=0,y=-8,c=!1):y*=h)},S=function(e){x.fillStyle=e.color,x.fillRect(L(e).x,L(e).y,L(e).width,L(e).height)},k=function(e,t){x.fillStyle=t.color;var i={x:1,y:1};void 0!==t.scale?i=t.scale:t.scale={x:1,y:1},void 0!==e.scale?i={x:e.scale.x*t.scale.x,y:e.scale.y*t.scale.y}:e.scale={x:1,y:1},x.fillRect(e.x+t.x*i.x,e.y+t.y*i.y,t.width*i.x,t.height*i.y)},L=function(e){var t={x:0,y:0},i={x:1,y:1};void 0!==e.scale&&(i=e.scale),void 0!==e.anchorpoint&&(t=e.anchorpoint);var n=e.width*i.x,o=e.height*i.y;return{x:e.x+n*t.x,y:e.y-o*t.y,width:n,height:o}},T=function(){var i=e.width,o=30,h={x:i,y:e.height-n,width:10,height:o,speed:200,scale:{x:1,y:3*Math.random()+1},anchorpoint:{x:0,y:1},color:"#c00"};f.push(h),u.push(h),t||(a=setTimeout(T,1e3*Math.random()+700))},C=function(){if(t)x.font="10px Arial",x.fillText("GameOver Press spacebar or",100,50),x.fillText("Mouse-click to restart",100,70);else{var e=u.length,n=0;for(n=0;e>n;n++)if(S(u[n]),void 0!==u[n].groupSprite)for(var o=u[n].groupSprite.length-1;o>=0;o--)k(u[n],u[n].groupSprite[o]);x.font="10px Arial",x.fillText("Score :"+i+" : Hi : "+r,10,50)}},D=function(t){(38 in v||s)&&E(),y+=w.speed,y>o/5&&(y=o/5),L(w).y+y>e.height-L(w).height-n?(l=!0,w.y=e.height-L(w).height+(w.y-L(w).y)-n):l||(w.y+=y);for(var h=f.length-1;h>=0;h--){var c=f[h];c.x-=c.speed*t,w.intersects(c)&&A(),c.x<0&&(i++,H(c,u),H(c,f))}},I=function(){D((Date.now()-m)/1e3),C(),m=Date.now()},M=function(){u.push(g),u.push(p),u.push(w),T(),i>r&&(r=i),i=0,y=2,d=setInterval(I,10)},A=function(){t=!0,f=[],u=[],clearInterval(d),clearTimeout(a)},H=function(e,t){return t.splice(t.indexOf(e),1)},O=function(){t?(t=!1,M()):s=!0},R=function(){h=1,c=!1,s=!1};window.addEventListener("touchend",R),window.addEventListener("touchstart",O),window.addEventListener("mousedown",O),window.addEventListener("mouseup",R),window.addEventListener("keydown",function(e){t&&32===e.keyCode?(t=!1,M()):v[e.keyCode]=!0}),window.addEventListener("keyup",function(e){h=1,c=!1,delete v[e.keyCode]}),M()}();
//# sourceMappingURL=./myGame-min.map